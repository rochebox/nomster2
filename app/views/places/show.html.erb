<!--This is the view from the "show" controller action from Lesson 21 -->
<!-- this shows the full record of the place (restaurant) -->

<div class="booyah-box col-xs-8 col-xs-offset-2">
	<h1 class="brand-font light-blue-color text-shadow-red heading-size"><%= @place.name %></h1>
	<i><%= @place.address %></i>
	<br/><br/>
	<p><%= @place.description %></p>
    <br />
	<!--here come the tags to place a google map Lesson 30 -->
	<% if @place.latitude.present? && @place.longitude.present? %>
		    <script>

		      function initMap() {
		        var myLatLng = {lat: <%= @place.latitude %>, lng: <%= @place.longitude %>};

		        var map = new google.maps.Map(document.getElementById('map'), {
		          zoom: 17,
		          center: myLatLng
		        });

		        var marker = new google.maps.Marker({
		          position: myLatLng,
		          map: map,
		          title: 'Hello World!'
		        });
		      }
		    </script>
		    <script async defer
		    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzSJ-karImYqxutzcv3rCOwtyL7VCy2pk&callback=initMap">
		    </script>

		    <!-- moved from top in example... -->
			<div id="map"></div>
<% end %>

<br />

	<div class="pull-right">
		<% if current_user && current_user == @place.user %>
   		 <%= link_to 'Edit', edit_place_path(@place), class: 'btn btn-primary btn-lg' %>
   		  <%= link_to 'Delete', place_path(@place), method: :delete, data: { confirm: 'Are you completely sure you want to delete this restaurant?'}, class: 'btn btn-danger btn-lg' %>
   		<% end %>
   		
    </div>
</div>

<div class="clear"></div>
<%= simple_form_for @comment, url: '#' do |f| %>
  <%= f.input :message %>
  <%= f.input :rating %>
  <%= f.submit "Add a Comment", class: 'btn btn-primary btn-lg' %>
<% end %>